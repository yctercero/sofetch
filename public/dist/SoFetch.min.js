/*! SoFetch 30-08-2016 */
angular.module("app",["ui.router","app.auth","app.services","app.timeline","app.log"]).config(function(a,b){b.otherwise("/signup"),a.state("home",{url:"/home",templateUrl:"app/timeline/timeline.html",controller:"TimelineController"}).state("signup",{url:"/signup",templateUrl:"app/auth/signup.html",controller:"AuthController"}).state("login",{url:"/login",templateUrl:"app/auth/login.html",controller:"AuthController"}).state("logWalk",{url:"/logWalk",templateUrl:"app/logs/logWalk.html",controller:"LogController"})}),angular.module("app.auth",[]).controller("AuthController",["$scope","$location","Auth",function(a,b,c){angular.extend(a,c),a.username="Hello",a.user={},a.signup=function(){c.signup(a.user).then(function(){b.path("/home")}).catch(function(a){console.error(a)})},a.login=function(){c.login(a.user).then(function(){b.path("/home")}).catch(function(a){console.error(a)})}}]),angular.module("app.log",[]).controller("LogController",function(a,b,c){angular.extend(a,c),a.log={},a.logThis=function(){c.log(a.log).then(function(){b.path("/home")}).catch(function(a){console.error(a)})}}),angular.module("app.services",[]).factory("Auth",["$http","$location",function(a,b){var c=function(b){return a({method:"POST",url:"/users/signup",data:b})},d=function(b){return a({method:"POST",url:"/users/login",data:b})},e=function(a){var a={username:a.username};return a};return{signup:c,login:d,user:e}}]).factory("Log",["$http","$location",function(a,b){var c=function(b){return a({method:"POST",url:"/logWalk",data:b})},d=function(){return a({method:"GET",url:"/home"}).then(function(a){return a.data})},e=function(b){return console.log(b),a({method:"GET",url:"/logWalk",data:b}).then(function(a){return a.data})};return{log:c,getLogs:d,getLog:e}}]),angular.module("app.timeline",[]).controller("TimelineController",["$scope","Log",function(a,b){angular.extend(a,b),a.showDetails=!1,a.data={logs:[]},a.logToFind={id:null},a.toggle=function(){a.showDetails=!a.showDetails},a.getLog=function(c){a.logToFind.id=a.data.logs[c]._id,b.getLog(a.logToFind)},a.getLogs=function(){b.getLogs().then(function(b){console.log(b),a.data.logs=b}).catch(function(a){console.error(a)})},a.getLogs()}]);